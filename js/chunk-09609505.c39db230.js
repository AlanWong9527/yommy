(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09609505"],{"226a":function(t,a,o){},"2d3b":function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"search"},[o("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.back},scopedSlots:t._u([{key:"right",fn:function(){return[o("div",{staticClass:"home-search"},[o("van-search",{ref:"search",attrs:{placeholder:"输入商品关键字",shape:"round",clearable:!1},on:{search:t.search},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1)]},proxy:!0}])}),o("div",{staticClass:"listSearch"},[o("div",{staticClass:"product-list clearfix"},t._l(t.searchData,(function(a,e){return o("div",{key:e,staticClass:"fl product-img-box",on:{click:function(o){return t.GoDetail(a.goods_id)}}},[o("img",{staticClass:"auto-img",attrs:{src:a.goods_big_logo}}),o("div",{staticClass:"product-text-box"},[o("div",{staticClass:"product-title-box clearfix"},[a.isDiscount?o("div",{staticClass:"product-Special-price fl"},[t._v("特卖价")]):t._e(),o("div",{staticClass:"product-price fl"},[t._v("￥"+t._s(a.goods_price))]),a.isDiscount?o("div",{staticClass:"product-discount fl"},[t._v(" "+t._s(a.discountPrice)+"折 ")]):t._e()]),o("div",{staticClass:"product-name tow-text"},[t._v(" "+t._s(a.goods_name)+" ")])])])})),0)])],1)},s=[],i=(o("99af"),o("4de4"),o("d81d"),o("b0c0"),o("4de5"),o("226a"),{name:"Search",data:function(){return{name:"",searchData:[],myquery:""}},created:function(){this.saveProductData(),this.myquery=this.$route.params.query,this.getMyqueryData()},beforeRouteLeave:function(t,a,o){localStorage.removeItem("saveName"),o()},methods:{back:function(){this.$router.go(-1)},search:function(){var t=this;if(0==this.name)return this.$toast("输入内容不能为空");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"https://api-hmugo-web.itheima.net/api/public/v1/goods/search",params:{query:this.name}}).then((function(a){localStorage.setItem("saveName",t.name);var o=a.data.message.goods,e=a.data.message.goods.filter((function(t){if(t.goods_big_logo.length>1)return t}));o.map((function(t,a){""===t.goods_big_logo&&(t.goods_big_logo=e[e.length-1].goods_big_logo,t.goods_name=e[[e.length-1]].goods_name),0==t.goods_price&&(t.goods_price=1888),t.isDiscount=!1,t.goods_price%2!=0&&(t.isDiscount=!0,t.discountPrice="".concat(Math.ceil(9*Math.random()),".").concat(Math.ceil(9*Math.random())))})),t.searchData=a.data.message.goods,0==t.searchData.length&&t.$toast("哎呀~找不到该商品"),setTimeout((function(){t.$toast.clear()}),300)})).catch((function(a){t.$toast.clear()}))},saveProductData:function(){var t=this,a=localStorage.getItem("saveName");null!=a&&""!==a&&this.axios({method:"GET",url:"https://api-hmugo-web.itheima.net/api/public/v1/goods/search",params:{query:a}}).then((function(a){var o=a.data.message.goods,e=a.data.message.goods.filter((function(t){if(t.goods_big_logo.length>1)return t}));o.map((function(t,a){""===t.goods_big_logo&&(t.goods_big_logo=e[e.length-1].goods_big_logo,t.goods_name=e[[e.length-1]].goods_name),0==t.goods_price&&(t.goods_price=1888),t.isDiscount=!1,t.goods_price%2!=0&&(t.isDiscount=!0,t.discountPrice="".concat(Math.ceil(9*Math.random()),".").concat(Math.ceil(9*Math.random())))})),t.searchData=a.data.message.goods,0==t.searchData.length&&t.$toast("哎呀~找不到该商品"),setTimeout((function(){t.$toast.clear()}),300)})).catch((function(a){t.$toast.clear()}))},getMyqueryData:function(){var t=this;this.myquery&&this.axios({method:"GET",url:"https://api-hmugo-web.itheima.net/api/public/v1/goods/search",params:{query:this.myquery}}).then((function(a){var o=a.data.message.goods,e=a.data.message.goods.filter((function(t){if(t.goods_big_logo.length>1)return t}));o.map((function(o,s){""===o.goods_big_logo&&(o.goods_big_logo=e[e.length-1].goods_big_logo,o.goods_name=e[[e.length-1]].goods_name),0==o.goods_price&&(o.goods_price=1888),o.isDiscount=!1,o.goods_price%2!=0&&(o.isDiscount=!0,o.discountPrice="".concat(Math.ceil(9*Math.random()),".").concat(Math.ceil(9*Math.random()))),t.searchData=a.data.message.goods}))})).catch((function(a){t.$toast.clear()}))},GoDetail:function(t){this.$router.push({name:"Detail",params:{goods_id:t,saveName:this.name}})}}}),n=i,c=o("2877"),r=Object(c["a"])(n,e,s,!1,null,"c2f39b84",null);a["default"]=r.exports},"4de4":function(t,a,o){"use strict";var e=o("23e7"),s=o("b727").filter,i=o("1dde"),n=o("ae40"),c=i("filter"),r=n("filter");e({target:"Array",proto:!0,forced:!c||!r},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de5":function(t,a,o){},b0c0:function(t,a,o){var e=o("83ab"),s=o("9bf2").f,i=Function.prototype,n=i.toString,c=/^\s*function ([^ (]*)/,r="name";e&&!(r in i)&&s(i,r,{configurable:!0,get:function(){try{return n.call(this).match(c)[1]}catch(t){return""}}})},b727:function(t,a,o){var e=o("0366"),s=o("44ad"),i=o("7b0b"),n=o("50c4"),c=o("65f0"),r=[].push,d=function(t){var a=1==t,o=2==t,d=3==t,u=4==t,l=6==t,g=5==t||l;return function(h,f,m,p){for(var _,v,b=i(h),y=s(b),D=e(f,m,3),x=n(y.length),M=0,C=p||c,$=a?C(h,x):o?C(h,0):void 0;x>M;M++)if((g||M in y)&&(_=y[M],v=D(_,M,b),t))if(a)$[M]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return M;case 2:r.call($,_)}else if(u)return!1;return l?-1:d||u?u:$}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},d81d:function(t,a,o){"use strict";var e=o("23e7"),s=o("b727").map,i=o("1dde"),n=o("ae40"),c=i("map"),r=n("map");e({target:"Array",proto:!0,forced:!c||!r},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-09609505.c39db230.js.map